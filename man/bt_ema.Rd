% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main_functions.R
\name{bt_ema}
\alias{bt_ema}
\title{Run an EMA crossover backtest}
\usage{
bt_ema(
  ticker,
  fast = 20,
  slow = 50,
  ps_risk_value = 2,
  ps = "pct",
  fee = "normal",
  start_date = "1900-01-01",
  end_date = Sys.Date(),
  long = TRUE,
  short = TRUE,
  invert_signals = FALSE,
  normalize_risk = NULL,
  geometric = TRUE,
  verbose = FALSE,
  only_returns = FALSE,
  hide_details = FALSE,
  stop_before_maturity = NULL,
  clean_di = TRUE,
  plot = FALSE
)
}
\arguments{
\item{ticker}{Character symbol or an \code{xts} object (or the name of one in the
global environment) with OHLC data. When an object is supplied, its data is
used directly; otherwise it is fetched via \code{sm_get_data()}.}

\item{fast}{Integer length of the fast EMA (default 20).}

\item{slow}{Integer length of the slow EMA (default 50).}

\item{ps_risk_value}{Numeric risk percentage (e.g., 2 for 2\%) used by the
position sizing function.}

\item{ps}{Character label for position sizing mode (informational).}

\item{fee}{Either \code{"normal"} (use instrument fees/slippage if available) or
\code{"nofee"} to disable fees.}

\item{start_date}{Character or Date, start date when fetching data.}

\item{end_date}{Date, end date when fetching data (default \code{Sys.Date()}).}

\item{long}{Logical, enable long entries.}

\item{short}{Logical, enable short entries.}

\item{invert_signals}{Logical, invert entry/exit mapping (debug/testing).}

\item{normalize_risk}{Optional numeric target risk used to append
normalized return columns to the output.}

\item{geometric}{Logical, use geometric returns when reporting performance.}

\item{verbose}{Logical, print detailed summaries to the console.}

\item{only_returns}{Logical; if \code{TRUE}, returns only the portfolio returns \code{xts}.}

\item{hide_details}{Logical; if \code{TRUE}, simplifies internal object names.}

\item{plot}{Logical; if \code{TRUE}, plots the portfolio using \code{rTradingPlots::tplot}.}
}
\description{
Builds a two-line exponential moving average crossover system where trades
are opened when the fast EMA crosses the slow EMA and closed when the
relationship reverses. All other parameters mirror \code{\link[=bt_eldoc]{bt_eldoc()}}, allowing
reuse of the same position sizing, data sourcing, and reporting pipeline.
}
