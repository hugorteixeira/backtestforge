% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/position_sizing.R
\name{.psEquityPercentageDonchian_DI}
\alias{.psEquityPercentageDonchian_DI}
\title{DI futures risk-based order-sizing function}
\usage{
.psEquityPercentageDonchian_DI(
  data,
  timestamp,
  orderqty,
  ordertype,
  orderside,
  portfolio,
  symbol,
  tradeSize,
  maxSize,
  integerQty = TRUE,
  prefer = "Close",
  risk,
  reinvest = FALSE,
  start_capital = 1e+06,
  verbose = TRUE,
  ...
)
}
\arguments{
\item{data}{Market data \code{xts} with Donchian columns and instrument \code{maturity}
stored as an attribute.}

\item{timestamp}{Signal timestamp.}

\item{orderqty}{Ignored; required by signature.}

\item{ordertype}{Order type string; required by signature.}

\item{orderside}{One of \code{"long"} or \code{"short"}.}

\item{portfolio}{Portfolio name.}

\item{symbol}{Instrument symbol.}

\item{tradeSize}{Max trade size; required by signature.}

\item{maxSize}{Max position size.}

\item{integerQty}{Logical; if \code{TRUE}, quantities are floored to integers.}

\item{prefer}{Column name preferred for price/rate lookup.}

\item{risk}{Numeric, percent of capital to risk per trade.}

\item{reinvest}{Logical; if \code{TRUE}, use blotter equity; otherwise \code{start_capital}.}

\item{start_capital}{Numeric starting capital when not reinvesting.}

\item{verbose}{Logical; print intermediate sizing details.}

\item{...}{Additional arguments passed by quantstrat.}
}
\value{
Numeric order quantity (positive for long, negative for short) or 0.
}
\description{
Variant of Donchian risk-based sizing tailored to DI futures. It estimates
contract notional and tick value from the DI rate and time to maturity to
compute risk per contract, then allocates contracts based on the risk budget.
}
\keyword{internal}
